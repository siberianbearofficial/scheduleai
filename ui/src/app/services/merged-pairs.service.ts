import {Injectable} from '@angular/core';
import {signalState} from '@ngrx/signals';
import {MergedPairEntity} from '../entities/merged-pairs-entity';
import moment from 'moment';
import {toObservable} from '@angular/core/rxjs-interop';

@Injectable({
  providedIn: 'root'
})
export class MergedPairsService {

  constructor() {
  }

  private readonly merged_pairs$$ = signalState<MergedPairEntity[]>([
    {
      start_time: moment('2023-09-01T09:00:00'),
      end_time: moment('2023-09-01T10:30:00'),
      act_type: 'Лекция',
      discipline: 'Математический анализ',
      rooms: ['А-101'],
      convenience: 8,
      wait_time_sec: 1800,
      status: 'beforePairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-01T10:45:00'),
      end_time: moment('2023-09-01T12:15:00'),
      act_type: 'Практика',
      discipline: 'Программирование',
      rooms: ['Б-205', 'Б-206'],
      convenience: 7,
      wait_time_sec: 900,
      status: 'inGap',
      collisions: [],
    },
    {
      start_time: moment('2023-09-01T12:30:00'),
      end_time: moment('2023-09-01T14:00:00'),
      act_type: 'Лабораторная',
      discipline: 'Физика',
      rooms: ['Л-301'],
      convenience: 6,
      wait_time_sec: 0,
      status: 'collision',
      collisions: [
        {
          group_id: 'Группа 1',
          teachers: ['Иванов И.И.'],
          start_time: moment('2023-09-01T12:30:00'),
          end_time: moment('2023-09-01T14:00:00'),
          act_type: 'Семинар',
          discipline: 'Химия',
          rooms: ['Л-301'],
        },
      ],
    },
    {
      start_time: moment('2023-09-01T14:15:00'),
      end_time: moment('2023-09-01T15:45:00'),
      act_type: 'Семинар',
      discipline: 'История',
      rooms: ['А-102'],
      convenience: 9,
      wait_time_sec: 0,
      status: 'afterPairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-02T09:00:00'),
      end_time: moment('2023-09-02T10:30:00'),
      act_type: 'Лекция',
      discipline: 'Линейная алгебра',
      rooms: ['А-201'],
      convenience: 8,
      wait_time_sec: 0,
      status: 'beforePairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-02T11:00:00'),
      end_time: moment('2023-09-02T12:30:00'),
      act_type: 'Практика',
      discipline: 'Иностранный язык',
      rooms: ['Б-105'],
      convenience: 7,
      wait_time_sec: 1800,
      status: 'inGap',
      collisions: [],
    },
    {
      start_time: moment('2023-09-02T13:00:00'),
      end_time: moment('2023-09-02T14:30:00'),
      act_type: 'Лабораторная',
      discipline: 'Информатика',
      rooms: ['Л-201', 'Л-202'],
      convenience: 5,
      wait_time_sec: 0,
      status: 'collision',
      collisions: [
        {
          group_id: 'Группа 2',
          teachers: ['Петров П.П.', 'Сидоров С.С.'],
          start_time: moment('2023-09-02T13:00:00'),
          end_time: moment('2023-09-02T14:30:00'),
          act_type: 'Практика',
          discipline: 'Экономика',
          rooms: ['Л-201'],
        },
      ],
    },
    {
      start_time: moment('2023-09-03T10:00:00'),
      end_time: moment('2023-09-03T11:30:00'),
      act_type: 'Лекция',
      discipline: 'Теория вероятностей',
      rooms: ['А-301'],
      convenience: 8,
      wait_time_sec: 0,
      status: 'beforePairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-03T12:00:00'),
      end_time: moment('2023-09-03T13:30:00'),
      act_type: 'Семинар',
      discipline: 'Философия',
      rooms: ['Б-301'],
      convenience: 6,
      wait_time_sec: 1800,
      status: 'inGap',
      collisions: [],
    },
    {
      start_time: moment('2023-09-03T14:00:00'),
      end_time: moment('2023-09-03T15:30:00'),
      act_type: 'Практика',
      discipline: 'Базы данных',
      rooms: ['Л-101'],
      convenience: 7,
      wait_time_sec: 0,
      status: 'afterPairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-04T08:30:00'),
      end_time: moment('2023-09-04T10:00:00'),
      act_type: 'Лекция',
      discipline: 'Дискретная математика',
      rooms: ['А-202'],
      convenience: 9,
      wait_time_sec: 0,
      status: 'beforePairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-04T10:15:00'),
      end_time: moment('2023-09-04T11:45:00'),
      act_type: 'Лабораторная',
      discipline: 'Электротехника',
      rooms: ['Л-302'],
      convenience: 5,
      wait_time_sec: 900,
      status: 'collision',
      collisions: [
        {
          group_id: 'Группа 3',
          teachers: ['Кузнецов К.К.'],
          start_time: moment('2023-09-04T10:15:00'),
          end_time: moment('2023-09-04T11:45:00'),
          act_type: 'Практика',
          discipline: 'Механика',
          rooms: ['Л-302'],
        },
      ],
    },
    {
      start_time: moment('2023-09-04T12:00:00'),
      end_time: moment('2023-09-04T13:30:00'),
      act_type: 'Семинар',
      discipline: 'Политология',
      rooms: ['Б-102'],
      convenience: 7,
      wait_time_sec: 0,
      status: 'inGap',
      collisions: [],
    },
    {
      start_time: moment('2023-09-05T09:30:00'),
      end_time: moment('2023-09-05T11:00:00'),
      act_type: 'Лекция',
      discipline: 'Теория алгоритмов',
      rooms: ['А-103'],
      convenience: 8,
      wait_time_sec: 0,
      status: 'beforePairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-05T11:15:00'),
      end_time: moment('2023-09-05T12:45:00'),
      act_type: 'Практика',
      discipline: 'Сетевые технологии',
      rooms: ['Б-203'],
      convenience: 6,
      wait_time_sec: 900,
      status: 'inGap',
      collisions: [],
    },
    {
      start_time: moment('2023-09-05T13:00:00'),
      end_time: moment('2023-09-05T14:30:00'),
      act_type: 'Лабораторная',
      discipline: 'Биохимия',
      rooms: ['Л-401'],
      convenience: 7,
      wait_time_sec: 0,
      status: 'afterPairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-06T08:00:00'),
      end_time: moment('2023-09-06T09:30:00'),
      act_type: 'Лекция',
      discipline: 'Квантовая физика',
      rooms: ['А-302'],
      convenience: 9,
      wait_time_sec: 0,
      status: 'beforePairs',
      collisions: [],
    },
    {
      start_time: moment('2023-09-06T10:00:00'),
      end_time: moment('2023-09-06T11:30:00'),
      act_type: 'Семинар',
      discipline: 'Социология',
      rooms: ['Б-401'],
      convenience: 6,
      wait_time_sec: 1800,
      status: 'collision',
      collisions: [
        {
          group_id: 'Группа 4',
          teachers: ['Смирнова С.С.'],
          start_time: moment('2023-09-06T10:00:00'),
          end_time: moment('2023-09-06T11:30:00'),
          act_type: 'Практика',
          discipline: 'Психология',
          rooms: ['Б-401'],
        },
      ],
    },
    {
      start_time: moment('2023-09-06T12:00:00'),
      end_time: moment('2023-09-06T13:30:00'),
      act_type: 'Практика',
      discipline: 'Машинное обучение',
      rooms: ['Л-201'],
      convenience: 8,
      wait_time_sec: 0,
      status: 'inGap',
      collisions: [],
    },
    {
      start_time: moment('2023-09-06T14:00:00'),
      end_time: moment('2023-09-06T15:30:00'),
      act_type: 'Лабораторная',
      discipline: 'Робототехника',
      rooms: ['Л-301'],
      convenience: 7,
      wait_time_sec: 0,
      status: 'afterPairs',
      collisions: [],
    },
  ])

  readonly merged_pairs$ = toObservable(this.merged_pairs$$);
}
